---
title : SQL 4 - Stored Function
date : 2024-06-23 +0900
categories : [SQL, ê°œë…]
tags : sql
---
# **STORED FUNCTION**
---
## SQLì—ì„œ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ì˜ í˜•íƒœ
- ë‹¨ì¼ í–‰ í•¨ìˆ˜(Single Row Function)
    - ë¬¸ìí˜• í•¨ìˆ˜
    - ìˆ«ìí˜• í•¨ìˆ˜
    - ë‚ ì§œí˜• í•¨ìˆ˜
    - ë³€í™˜í˜• í•¨ìˆ˜ 
- ë‹¤ì¤‘ í–‰ í•¨ìˆ˜(Multi Row Function)

---
### 1. ë¬¸ìí˜• í•¨ìˆ˜

|UPPER|LPAD|INITCAP|LTRIM|SUBSTR|TRANSLATE|
|LOWER|RPAD|CONCAT|RTRIM|LENGTH|REPLACE|

- UPPER

|UPPER('ORACLE Server')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORACLE SERVER |

- LOWER

|LOWER('ORACLE Server')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oracle server|

- INITCAP

|INITCAP('ORACLE Server')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Oracle Server |

- CONCAT

|CONCAT ('ORACLE', 'Server')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORACLEServer|

- SUBSTR

|SUBSTR('ìš©ì‚°êµ¬ í•œê°•ë¡œë™', 5, 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;í•œê°•|

- LENGTH

|LENGTH('í™ê¸¸ë™)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3|

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â˜‘ï¸ ë¹ˆì¹¸ë„ +1 

- LPAD, RPAD

|LPAD('í™ê¸¸ë™, 10, '*')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;****í™ê¸¸ë™|

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â˜‘ï¸ í•œê¸€ì€ 2ìë¦¬ì”© ì°¨ì§€

- LTRIM, RTRIM

|LTRIM('XXAXBA', 'X')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AXBA|

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â˜‘ï¸ ëŒ€ì†Œë¬¸ì êµ¬ë¶„í•¨!

- TRANSLATE

|TRANSLATE('AABBA', 'B', 'C')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AACCA|

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â˜‘ï¸ í•œê¸€ìì”©ë§Œ!

- REPLACE

|REPLACE('JACK and JUE', 'J', 'BL')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLACK and BLUE|

---
### 2. ìˆ«ìí˜• í•¨ìˆ˜

|í•¨ ìˆ˜| ì„¤ ëª… |
|:---:|---|
|ROUND|ìˆ«ìë¥¼ ë°˜ì˜¬ë¦¼|
|TRUNC|ìˆ«ìë¥¼ ì ˆì‚¬|
|MOD|ë‚˜ëˆ„ê¸° ì—°ì‚°ì—ì„œ ë‚˜ë¨¸ì§€|
|POWER|ê±°ë“­ì œê³±|
|SQRT|ì œê³±ê·¼|
|SIGN|ì–‘ìˆ˜ ìŒìˆ˜ 0 êµ¬ë³„|
|CHR|ASCIIê°’ì— í•´ë‹¹í•˜ëŠ” ë¬¸ìë¥¼ êµ¬í•¨|

- ROUND, TRUNC

|ROUND(35.735, 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35.74|
|TRUNC(35.735, 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35.73|

- MOD

|MOD(7,2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1|

- POWER

|POWER(3,2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9|

- SQRT

|SQRT(25)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5|

- SIGN

|SIGN(-15)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-1|

- CHR

|CHR(65)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A|

---
### 3. ë‚ ì§œí˜• í•¨ìˆ˜

|SYSDATE|í˜„ì¬ ì‹œìŠ¤í…œ ë‚ ì§œ ë° ì‹œê°„|
|LAST_DAY|ì§€ì •í•œ ë‚ ì§œì˜ í•´ë‹¹ì›”ì˜ ë§ˆì§€ë§‰ ë‚ ì§œ|
|MONTHS_BETWEEN|ë‘ ë‚ ì§œì‚¬ì´ì˜ ê°œì›”ìˆ˜|
|ADD_MONTHS|ì§€ì •í•œ ë‚ ì§œë¡œë¶€í„° ëª‡ ê°œì›” í›„ì˜ ë‚ ì§œ|
|ROUND|ë‚ ì§œì— ëŒ€í•œ ë°˜ì˜¬ë¦¼|
|TRUNC|ë‚ ì§œì— ëŒ€í•œ ë²„ë¦¼|

- SYSDATE

|SYSDATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24/03/31|

- LAST_DAY

|LAST_DAY('24/02/01')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24/02/28|

- MONTHS_BETWEEN

|MONTHS_BETWEEN('24/01/01', '24/03/01') &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-2|

- ADD_MONTHS

|ADD_MONTHS('24/01/01', 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'24/03/01'|

- ROUND

|í˜„ì¬ ë‚ ì§œê°€ 2024ë…„ 6ì›” 16ì¼ ì´ë¼ë©´,<br> ROUND(SYSDATE, 'MONTH')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24/07/01|

- TRUNC

|í˜„ì¬ ë‚ ì§œê°€ 2024ë…„ 6ì›” 10ì¼ ì´ë¼ë©´,<br> TRUNC(SYSDATE, 'YEAR')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24/01/01|

---
### 4. ë³€í™˜í˜• í•¨ìˆ˜

|í•¨ ìˆ˜|ì„¤ ëª…|
|---|---|
|TO_CHAR|ìˆ«ìë‚˜ ë‚ ì§œë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜ = ìë°”ì˜ toString() = '+'|
|TO_NUMBER|ë¬¸ìë¥¼ ìˆ«ìë¡œ ë³€í™˜ = ìë°”ì˜ Integer.parseInt()|
|TO_DATE|ë¬¸ìë¥¼ ë‚ ì§œë¡œ ë³€í™˜|

- TO_CHAR

1) ìˆ«ìë¥¼ ë¬¸ìë¡œ ë³€í™˜

|TO_CHAR(350000, '$999,999')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$350,000|

2) ë‚ ì§œë¥¼ ë¬¸ìë¡œ ë³€í™˜

|TO_CAHR(SYSDATE, 'YYYY/MM/DD')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2024/06/24|

- TO_DATE

|TO_DATE('10 9ì›” 1992', 'DD MONTH YYYY')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17/09/10|

- TO_NUMBER

|TO_NUMBER('1234')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â¡ï¸&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1234|

ğŸ’¡ í•¨ìˆ˜ë“¤ì€ ê²¹ì³ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤ <br> **í•¨ìˆ˜3(í•¨ìˆ˜2(í•¨ìˆ˜1(ì¹¼ëŸ¼ê°’, í˜•ì‹1), í˜•ì‹2), í˜•ì‹3)**

---
### 5. ê·¸ë£¹ í•¨ìˆ˜

|í•¨ ìˆ˜|ì„¤ ëª…|
|---|---|
|COUNT(a)|aì˜ í–‰ì˜ ê°œìˆ˜|
|AVG(a)|aì˜ í‰ê· |
|SUM(a)|aì˜ í•©ê³„|
|MIN(a)|aì˜ ìµœì†Œê°’|
|MAX(a)|aì˜ ìµœëŒ€ê°’|
|STDDEV(a)|aì˜ í‘œì¤€ í¸ì°¨|
|VARIANCE(a)|aì˜ ë¶„ì‚°|

ğŸ’¡ COUNT(*)ë¥¼ ì œì™¸í•œ ëª¨ë“  ê·¸ë£¹í•¨ìˆ˜ëŠ” NULLê°’ì„ ê³ ë ¤í•˜ì§€ ì•ŠìŒ
